test_arch/
│
├── configs/
│   ├── __init__.py
│   ├── config_manager.py                # 负责所有规则加载（形态、屋顶、等级）
│   ├── class_mapping.json               # 类型映射
│   └── rules/
│       ├── base_config.toml           # 系统级配置（单位、比例、输出路径）
│       ├── construction_grades.toml   # 建筑等级制
│       ├── roof_types.toml            # 屋顶形式
│       ├── building_forms.toml        # 建筑组合形态（核心）
│       └── structural_modules.toml    # 模数体系与构件比例
│
├── data/                        # 数据存储（CSV/XLS）
│   └── data.csv                # 园林建筑基本数据，每一行代表一个建筑
│ 
├── core/
│    ├── __init__.py
│    ├── data_loader.py                 #数据加载器，初步结构化数据，返回basic_info、category_info、dimension_info
│    ├── config_loader.py               #配置加载器，输入structure_name，查找configs对应的配置信息（预设信息、建筑信息）
│    ├── form_inferencer.py           # data_loader输出和calculator之间的衔接，推断内容，包括num_purlins、structure_name
│    ├── calculator_factory.py        #决定“实例化谁”,根据类别分发计算器；
│    │
│    └── calculators/
│           │
│           ├── base_calculator.py             # 顶层抽象基类（可选）
│           │
│           ├── components/                    # 构件级计算器（柱、梁、檩、椽）
│           │     ├── __init__.py
│           │     ├── base_component_calculator.py
│           │     ├── pillar_calculator.py
│           │     ├── beam_calculator.py
│           │     ├── purlin_calculator.py
│           │     └── rafter_calculator.py
│           │
│           ├── structural_system/             # 结构系统计算（柱网、檩架体系、举架、槽形系统）
│           │     ├── __init__.py
│           │     ├── pillar_layout_calculator.py   # 刚刚写的柱网坐标计算
│           │     ├── roof_frame_calculator.py     # 檩、椽、脊槫系统
│           │     ├── height_system_calculator.py  # 举架系统（柱高、梁高）
│           │     └── structural_system_calculator.py # 聚合结构系统（调用上面三个）
│           │
│           └── roof_forms/                    # 屋面形态（最终外形计算）
│                 ├── __init__.py
│                 ├── xieshan_calculator.py      # 歇山
│                 ├── yingshan_calculator.py     # 硬山
│                 ├── xuanshan_calculator.py     # 悬山
│                 ├── wudian_calculator.py       # 庑殿
│                 └── cuanjian_calculator.py     # 攒尖        
│
│
├── structure/
│   ├── utils.py                # 含mesh_pool和collection_init功能，输入basic_info、category_info，初始化集合，以及检查创建的mesh对象，如果bpy.data.meshes中有则返回，没有则创建
│   ├── assembler.py           # 输入主要标高信息和构件网格对象，组合功能创建组合
│   ├── frame/                #改名为 frame,与子模块统一名称
│   │   ├── pillar_frame.py       # 改名为pillar_frame，统一名称，输入pillars_coords、components对象，遍历位置创建柱网
│   │   ├── beam_frame.py
│   │   └── roof_system.py
│   ├── components/             #创建bmesh对象，返回mesh\object对象，不链接到集合
│   │   ├── pillar.py          # 输入eave_diameter、eave_height，返回檐柱对象，应考虑柱类，根据檐柱高柱径返回金柱、瓜柱、童柱等对象
│   │   ├── beam.py
│   │   ├── roof.py
│   │   └── __init__.py
│   └── __init__.py
│
├── tests/ 
│   └── test
│
├── generator.py               # 主生成器
├── main.py                    # 程序入口
│
│   ..........................................................
│
├── ai/                              # AI 扩展模块
│   ├── __init__.py
│   ├── param_fitter.py              # 参数拟合（根据数据预测斗口、坡度等）
│   ├── feature_extractor.py         # 特征提取（结构 + 装饰特征）
│   ├── layout_optimizer.py          # 平面与立面布局优化
│   └── style_transfer.py            # 风格迁移（唐/宋/清风格自动调整）
│
├── io/                              # 输入输出层（与外部系统对接）
│   ├── __init__.py
│   ├── ifc_exporter.py              # IFC/BIM 文件导出
│   ├── cad_exporter.py              # DWG/DXF 工程图导出
│   ├── svg_generator.py             # 草图生成（参数线稿）
│   ├── json_io.py                   # JSON、YAML 统一加载器
│   └── dataset_exporter.py          # 导出AI训练数据集
│
├── visualization/                   # 交互与展示层
│   ├── ui_panel.py
│   ├── component_panel.py
│   ├── preset_manager.py
│   ├── preview_renderer.py
│   └── engineering_drawer.py        # 生成工程图（线稿 + 尺寸）


这是一个使用blender api的传统木结构建筑生成项目，以上是项目设计架构，
项目中涉及大量的object\mesh\collection以及园林名称、建筑名称、建筑类型等，尤其是mesh会有大量复用，给我一个规范化的命名规则


                 ┌────────────────────────┐
                 │         main.py         │
                 │  程序入口：加载CSV、调用generator │
                 └──────────┬─────────────┘
                            │
                            ▼
               ┌────────────────────────┐
               │      generator.py       │
               │  调度主模块：组织建模流程 │
               │  调用configs、core、structure等 │
               └──────────┬─────────────┘
                            │
     ┌──────────────────────┼────────────────────────────┐
     │                      │                            │
     ▼                      ▼                            ▼
┌──────────────┐     ┌────────────────┐          ┌─────────────────┐
│ configs/      │     │ core/          │          │ structure/       │
│ 配置与规则系统 │     │ 计算逻辑层       │          │ 结构生成与定位层   │
└─────┬──────────┘     └────┬───────────┘          └────┬────────────┘
      │                      │                           │
      │                      │                           │
      ▼                      ▼                           ▼
┌──────────────┐     ┌────────────────┐          ┌──────────────────┐
│ config_manager│     │ calculator_factory│       │ collection.py     │
│ 读取toml/json配置 │  │ 根据rules分发计算器类 │   │ 建立对象集合         │
└──────────────┘     └────────────────┘          └──────────────────┘
│
├── rule_manager.py    ← 从 rules.json 中读取建筑类型 → 计算器映射
│
├── base_config.toml   ← 定义系统默认参数（单位、比例）
│
├── house_config.toml  ← 定义各类型建筑样式（has_dougong, modular_system等）
│
└── style_config.toml  ← 定义doukou_style, large_style, small_style等风格特征


├── configs/
│   ├── config_manager.py
│   └── rule_manager.py 
│
├── core/
│    ├── config_loader.py 
@startuml

package "Main Layer" {
  class Main {
    + main()
  }
}

package "Generator Layer" {
  class Generator {
    - data_loader
    - config_loader
    - calculator
    + run(row)
  }
}

package "Core Layer" {
  class DataLoader
  class ConfigLoader
  class CalculatorFactory
  class ComponentCalculator
}

package "Structure Layer" {
  class Components
  class Frame
  class Assembler
  class Utils
}

Main --> Generator : 调用生成器
Generator --> DataLoader : 加载原始数据
Generator --> ConfigLoader : 加载配置
Generator --> CalculatorFactory : 获取计算类
CalculatorFactory --> ComponentCalculator : 创建子类实例
Generator --> Components : 创建构件
Generator --> Frame : 生成结构系统
Generator --> Assembler : 组合建筑
Assembler --> Utils : 集合与mesh池管理

@enduml